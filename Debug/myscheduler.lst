ARM GAS  C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"myscheduler.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.global	task_PSP
  18              		.section	.data.task_PSP,"aw"
  19              		.align	2
  22              	task_PSP:
  23 0000 00000120 		.word	536936448
  24 0004 00FC0020 		.word	536935424
  25 0008 00F80020 		.word	536934400
  26 000c 00F40020 		.word	536933376
  27              		.global	task_handler
  28              		.section	.bss.task_handler,"aw",%nobits
  29              		.align	2
  32              	task_handler:
  33 0000 00000000 		.space	16
  33      00000000 
  33      00000000 
  33      00000000 
  34              		.global	current_task
  35              		.section	.bss.current_task,"aw",%nobits
  38              	current_task:
  39 0000 00       		.space	1
  40              		.section	.text.SysTick_Handler,"ax",%progbits
  41              		.align	1
  42              		.global	SysTick_Handler
  43              		.arch armv7e-m
  44              		.syntax unified
  45              		.thumb
  46              		.thumb_func
  47              		.fpu fpv4-sp-d16
  49              	SysTick_Handler:
  50              	.LFB3:
  51              		.file 1 "./Src/Task_Scheduler/myscheduler.c"
   1:./Src/Task_Scheduler/myscheduler.c **** /**
   2:./Src/Task_Scheduler/myscheduler.c ****   ******************************************************************************
   3:./Src/Task_Scheduler/myscheduler.c ****   * @file    myscheduler.c
   4:./Src/Task_Scheduler/myscheduler.c ****   * @author  Ri-Sheng Chen
   5:./Src/Task_Scheduler/myscheduler.c ****   * @brief   This file contains the functions of scheduler
   6:./Src/Task_Scheduler/myscheduler.c ****   ******************************************************************************
   7:./Src/Task_Scheduler/myscheduler.c ****   */
   8:./Src/Task_Scheduler/myscheduler.c **** 
   9:./Src/Task_Scheduler/myscheduler.c **** #include "myscheduler.h"
  10:./Src/Task_Scheduler/myscheduler.c **** // Áî®‰æÜÂÑ≤Â≠òÊØèÂÄãtaskÁöÑPSPÂÄº
ARM GAS  C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s 			page 2


  11:./Src/Task_Scheduler/myscheduler.c **** uint32_t task_PSP[TASK_NUM] = {TASK1_START_ADDR, TASK2_START_ADDR, TASK3_START_ADDR, TASK4_START_AD
  12:./Src/Task_Scheduler/myscheduler.c **** // ÂÑ≤Â≠òÊØèÂÄãtask_handlerÁöÑÂú∞ÂùÄ
  13:./Src/Task_Scheduler/myscheduler.c **** uint32_t task_handler[TASK_NUM];
  14:./Src/Task_Scheduler/myscheduler.c **** 
  15:./Src/Task_Scheduler/myscheduler.c **** uint8_t current_task = 0; // 0Ë°®Á§∫Ê≠£Âú®Âü∑Ë°åtask1
  16:./Src/Task_Scheduler/myscheduler.c **** 
  17:./Src/Task_Scheduler/myscheduler.c **** void SysTick_Handler(void) {
  52              		.loc 1 17 28
  53              		.cfi_startproc
  54              		@ args = 0, pretend = 0, frame = 0
  55              		@ frame_needed = 1, uses_anonymous_args = 0
  56              		@ link register save eliminated.
  57 0000 80B4     		push	{r7}
  58              	.LCFI0:
  59              		.cfi_def_cfa_offset 4
  60              		.cfi_offset 7, -4
  61 0002 00AF     		add	r7, sp, #0
  62              	.LCFI1:
  63              		.cfi_def_cfa_register 7
  18:./Src/Task_Scheduler/myscheduler.c ****     /* Save the context of current task */
  19:./Src/Task_Scheduler/myscheduler.c ****     // 1. ÂæóÂà∞Áï∂ÂâçTaskÁöÑPSPÂÄ§
  20:./Src/Task_Scheduler/myscheduler.c ****     __asm volatile("MRS r0, PSP");
  64              		.loc 1 20 5
  65              		.syntax unified
  66              	@ 20 "./Src/Task_Scheduler/myscheduler.c" 1
  67 0004 EFF30980 		MRS r0, PSP
  68              	@ 0 "" 2
  21:./Src/Task_Scheduler/myscheduler.c ****     // 2. ‰ΩøÁî®PSPÂÄ§ÂÑ≤Â≠òStack Frame(R4 ~ R11)
  22:./Src/Task_Scheduler/myscheduler.c ****     __asm volatile("STMDB r0!, {r4-r11}");
  69              		.loc 1 22 5
  70              	@ 22 "./Src/Task_Scheduler/myscheduler.c" 1
  71 0008 20E9F00F 		STMDB r0!, {r4-r11}
  72              	@ 0 "" 2
  23:./Src/Task_Scheduler/myscheduler.c ****     // 3. ‰øùÂ≠òPSPÁöÑÂÄ§
  24:./Src/Task_Scheduler/myscheduler.c ****     __asm volatile("BL save_PSP_val");
  73              		.loc 1 24 5
  74              	@ 24 "./Src/Task_Scheduler/myscheduler.c" 1
  75 000c FFF7FEFF 		BL save_PSP_val
  76              	@ 0 "" 2
  25:./Src/Task_Scheduler/myscheduler.c **** 
  26:./Src/Task_Scheduler/myscheduler.c ****     /* Retrieve the context of next task */
  27:./Src/Task_Scheduler/myscheduler.c ****     // 1. Decide next task to run
  28:./Src/Task_Scheduler/myscheduler.c ****     __asm volatile("BL update_next_task");
  77              		.loc 1 28 5
  78              	@ 28 "./Src/Task_Scheduler/myscheduler.c" 1
  79 0010 FFF7FEFF 		BL update_next_task
  80              	@ 0 "" 2
  29:./Src/Task_Scheduler/myscheduler.c ****     // 2. get its past PSP value
  30:./Src/Task_Scheduler/myscheduler.c ****     __asm volatile("MSR PSP, %0" ::"r"(*(task_handler + current_task)):); // Â∞áTASK1ÁöÑPSPÂÄºË§áË£
  81              		.loc 1 30 55
  82              		.thumb
  83              		.syntax unified
  84 0014 084B     		ldr	r3, .L2
  85 0016 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  86 0018 9B00     		lsls	r3, r3, #2
  87 001a 084A     		ldr	r2, .L2+4
  88 001c 1344     		add	r3, r3, r2
ARM GAS  C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s 			page 3


  89              		.loc 1 30 40
  90 001e 1B68     		ldr	r3, [r3]
  91              		.loc 1 30 5
  92              		.syntax unified
  93              	@ 30 "./Src/Task_Scheduler/myscheduler.c" 1
  94 0020 83F30988 		MSR PSP, r3
  95              	@ 0 "" 2
  31:./Src/Task_Scheduler/myscheduler.c ****     // 3. Using that PSP value retrieve Stack Frame (R4 ~ R11)
  32:./Src/Task_Scheduler/myscheduler.c ****     __asm volatile("LDMIA r0!, {r4-r11}");
  96              		.loc 1 32 5
  97              	@ 32 "./Src/Task_Scheduler/myscheduler.c" 1
  98 0024 B0E8F00F 		LDMIA r0!, {r4-r11}
  99              	@ 0 "" 2
  33:./Src/Task_Scheduler/myscheduler.c ****     // 4. Update PSP and exit
  34:./Src/Task_Scheduler/myscheduler.c ****     __asm volatile("MSR PSP,R0");
 100              		.loc 1 34 5
 101              	@ 34 "./Src/Task_Scheduler/myscheduler.c" 1
 102 0028 80F30988 		MSR PSP,R0
 103              	@ 0 "" 2
  35:./Src/Task_Scheduler/myscheduler.c **** }
 104              		.loc 1 35 1
 105              		.thumb
 106              		.syntax unified
 107 002c 00BF     		nop
 108 002e BD46     		mov	sp, r7
 109              	.LCFI2:
 110              		.cfi_def_cfa_register 13
 111              		@ sp needed
 112 0030 5DF8047B 		ldr	r7, [sp], #4
 113              	.LCFI3:
 114              		.cfi_restore 7
 115              		.cfi_def_cfa_offset 0
 116 0034 7047     		bx	lr
 117              	.L3:
 118 0036 00BF     		.align	2
 119              	.L2:
 120 0038 00000000 		.word	current_task
 121 003c 00000000 		.word	task_handler
 122              		.cfi_endproc
 123              	.LFE3:
 125              		.section	.rodata
 126              		.align	2
 127              	.LC0:
 128 0000 496E2048 		.ascii	"In Hard Fault\000"
 128      61726420 
 128      4661756C 
 128      7400
 129              		.section	.text.HardFault_Handler,"ax",%progbits
 130              		.align	1
 131              		.global	HardFault_Handler
 132              		.syntax unified
 133              		.thumb
 134              		.thumb_func
 135              		.fpu fpv4-sp-d16
 137              	HardFault_Handler:
 138              	.LFB4:
  36:./Src/Task_Scheduler/myscheduler.c **** 
ARM GAS  C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s 			page 4


  37:./Src/Task_Scheduler/myscheduler.c **** void HardFault_Handler(void) {
 139              		.loc 1 37 30
 140              		.cfi_startproc
 141              		@ args = 0, pretend = 0, frame = 0
 142              		@ frame_needed = 1, uses_anonymous_args = 0
 143 0000 80B5     		push	{r7, lr}
 144              	.LCFI4:
 145              		.cfi_def_cfa_offset 8
 146              		.cfi_offset 7, -8
 147              		.cfi_offset 14, -4
 148 0002 00AF     		add	r7, sp, #0
 149              	.LCFI5:
 150              		.cfi_def_cfa_register 7
  38:./Src/Task_Scheduler/myscheduler.c ****     printf("In Hard Fault\n");
 151              		.loc 1 38 5
 152 0004 0148     		ldr	r0, .L6
 153 0006 FFF7FEFF 		bl	puts
 154              	.L5:
  39:./Src/Task_Scheduler/myscheduler.c ****     while (1);
 155              		.loc 1 39 11 discriminator 1
 156 000a FEE7     		b	.L5
 157              	.L7:
 158              		.align	2
 159              	.L6:
 160 000c 00000000 		.word	.LC0
 161              		.cfi_endproc
 162              	.LFE4:
 164              		.section	.rodata
 165 000e 0000     		.align	2
 166              	.LC1:
 167 0010 496E204D 		.ascii	"In MemMange Fault\000"
 167      656D4D61 
 167      6E676520 
 167      4661756C 
 167      7400
 168              		.section	.text.MemManage_Handler,"ax",%progbits
 169              		.align	1
 170              		.global	MemManage_Handler
 171              		.syntax unified
 172              		.thumb
 173              		.thumb_func
 174              		.fpu fpv4-sp-d16
 176              	MemManage_Handler:
 177              	.LFB5:
  40:./Src/Task_Scheduler/myscheduler.c **** }
  41:./Src/Task_Scheduler/myscheduler.c **** 
  42:./Src/Task_Scheduler/myscheduler.c **** void MemManage_Handler(void) {
 178              		.loc 1 42 30
 179              		.cfi_startproc
 180              		@ args = 0, pretend = 0, frame = 0
 181              		@ frame_needed = 1, uses_anonymous_args = 0
 182 0000 80B5     		push	{r7, lr}
 183              	.LCFI6:
 184              		.cfi_def_cfa_offset 8
 185              		.cfi_offset 7, -8
 186              		.cfi_offset 14, -4
 187 0002 00AF     		add	r7, sp, #0
ARM GAS  C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s 			page 5


 188              	.LCFI7:
 189              		.cfi_def_cfa_register 7
  43:./Src/Task_Scheduler/myscheduler.c ****     printf("In MemMange Fault\n");
 190              		.loc 1 43 5
 191 0004 0148     		ldr	r0, .L10
 192 0006 FFF7FEFF 		bl	puts
 193              	.L9:
  44:./Src/Task_Scheduler/myscheduler.c ****     while (1);
 194              		.loc 1 44 11 discriminator 1
 195 000a FEE7     		b	.L9
 196              	.L11:
 197              		.align	2
 198              	.L10:
 199 000c 10000000 		.word	.LC1
 200              		.cfi_endproc
 201              	.LFE5:
 203              		.section	.rodata
 204 0022 0000     		.align	2
 205              	.LC2:
 206 0024 496E2042 		.ascii	"In Bus fault\000"
 206      75732066 
 206      61756C74 
 206      00
 207              		.section	.text.BusFault_Handler,"ax",%progbits
 208              		.align	1
 209              		.global	BusFault_Handler
 210              		.syntax unified
 211              		.thumb
 212              		.thumb_func
 213              		.fpu fpv4-sp-d16
 215              	BusFault_Handler:
 216              	.LFB6:
  45:./Src/Task_Scheduler/myscheduler.c **** }
  46:./Src/Task_Scheduler/myscheduler.c **** 
  47:./Src/Task_Scheduler/myscheduler.c **** void BusFault_Handler(void) {
 217              		.loc 1 47 29
 218              		.cfi_startproc
 219              		@ args = 0, pretend = 0, frame = 0
 220              		@ frame_needed = 1, uses_anonymous_args = 0
 221 0000 80B5     		push	{r7, lr}
 222              	.LCFI8:
 223              		.cfi_def_cfa_offset 8
 224              		.cfi_offset 7, -8
 225              		.cfi_offset 14, -4
 226 0002 00AF     		add	r7, sp, #0
 227              	.LCFI9:
 228              		.cfi_def_cfa_register 7
  48:./Src/Task_Scheduler/myscheduler.c ****     printf("In Bus fault\n");
 229              		.loc 1 48 5
 230 0004 0148     		ldr	r0, .L14
 231 0006 FFF7FEFF 		bl	puts
 232              	.L13:
  49:./Src/Task_Scheduler/myscheduler.c ****     while (1);
 233              		.loc 1 49 11 discriminator 1
 234 000a FEE7     		b	.L13
 235              	.L15:
 236              		.align	2
ARM GAS  C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s 			page 6


 237              	.L14:
 238 000c 24000000 		.word	.LC2
 239              		.cfi_endproc
 240              	.LFE6:
 242              		.section	.rodata
 243 0031 000000   		.align	2
 244              	.LC3:
 245 0034 496E2055 		.ascii	"In Usage fault\000"
 245      73616765 
 245      20666175 
 245      6C7400
 246              		.section	.text.UsageFault_Handler,"ax",%progbits
 247              		.align	1
 248              		.global	UsageFault_Handler
 249              		.syntax unified
 250              		.thumb
 251              		.thumb_func
 252              		.fpu fpv4-sp-d16
 254              	UsageFault_Handler:
 255              	.LFB7:
  50:./Src/Task_Scheduler/myscheduler.c **** }
  51:./Src/Task_Scheduler/myscheduler.c **** 
  52:./Src/Task_Scheduler/myscheduler.c **** void UsageFault_Handler(void) {
 256              		.loc 1 52 31
 257              		.cfi_startproc
 258              		@ args = 0, pretend = 0, frame = 0
 259              		@ frame_needed = 1, uses_anonymous_args = 0
 260 0000 80B5     		push	{r7, lr}
 261              	.LCFI10:
 262              		.cfi_def_cfa_offset 8
 263              		.cfi_offset 7, -8
 264              		.cfi_offset 14, -4
 265 0002 00AF     		add	r7, sp, #0
 266              	.LCFI11:
 267              		.cfi_def_cfa_register 7
  53:./Src/Task_Scheduler/myscheduler.c ****     printf("In Usage fault\n");
 268              		.loc 1 53 5
 269 0004 0148     		ldr	r0, .L18
 270 0006 FFF7FEFF 		bl	puts
 271              	.L17:
  54:./Src/Task_Scheduler/myscheduler.c ****     while (1);
 272              		.loc 1 54 11 discriminator 1
 273 000a FEE7     		b	.L17
 274              	.L19:
 275              		.align	2
 276              	.L18:
 277 000c 34000000 		.word	.LC3
 278              		.cfi_endproc
 279              	.LFE7:
 281              		.section	.text.SysTick_Timer_Init,"ax",%progbits
 282              		.align	1
 283              		.global	SysTick_Timer_Init
 284              		.syntax unified
 285              		.thumb
 286              		.thumb_func
 287              		.fpu fpv4-sp-d16
 289              	SysTick_Timer_Init:
ARM GAS  C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s 			page 7


 290              	.LFB8:
  55:./Src/Task_Scheduler/myscheduler.c **** }
  56:./Src/Task_Scheduler/myscheduler.c **** 
  57:./Src/Task_Scheduler/myscheduler.c **** void SysTick_Timer_Init(void) {
 291              		.loc 1 57 31
 292              		.cfi_startproc
 293              		@ args = 0, pretend = 0, frame = 8
 294              		@ frame_needed = 1, uses_anonymous_args = 0
 295              		@ link register save eliminated.
 296 0000 80B4     		push	{r7}
 297              	.LCFI12:
 298              		.cfi_def_cfa_offset 4
 299              		.cfi_offset 7, -4
 300 0002 83B0     		sub	sp, sp, #12
 301              	.LCFI13:
 302              		.cfi_def_cfa_offset 16
 303 0004 00AF     		add	r7, sp, #0
 304              	.LCFI14:
 305              		.cfi_def_cfa_register 7
  58:./Src/Task_Scheduler/myscheduler.c ****     uint32_t reload_val = DEFAULT_F_CLK / TICK_HZ - 1;
 306              		.loc 1 58 14
 307 0006 41F63F73 		movw	r3, #7999
 308 000a 7B60     		str	r3, [r7, #4]
  59:./Src/Task_Scheduler/myscheduler.c ****     SYST_RVR = reload_val; // set reload_val to SYST_RVR
 309              		.loc 1 59 5
 310 000c 074A     		ldr	r2, .L21
 311              		.loc 1 59 14
 312 000e 7B68     		ldr	r3, [r7, #4]
 313 0010 1360     		str	r3, [r2]
  60:./Src/Task_Scheduler/myscheduler.c ****     SYST_CSR |= (1 << 0) | (1 << 1) | (1 << 2); // enable ENABLE TICLINT CLKSOURCE
 314              		.loc 1 60 14
 315 0012 074B     		ldr	r3, .L21+4
 316 0014 1B68     		ldr	r3, [r3]
 317 0016 064A     		ldr	r2, .L21+4
 318 0018 43F00703 		orr	r3, r3, #7
 319 001c 1360     		str	r3, [r2]
  61:./Src/Task_Scheduler/myscheduler.c **** }
 320              		.loc 1 61 1
 321 001e 00BF     		nop
 322 0020 0C37     		adds	r7, r7, #12
 323              	.LCFI15:
 324              		.cfi_def_cfa_offset 4
 325 0022 BD46     		mov	sp, r7
 326              	.LCFI16:
 327              		.cfi_def_cfa_register 13
 328              		@ sp needed
 329 0024 5DF8047B 		ldr	r7, [sp], #4
 330              	.LCFI17:
 331              		.cfi_restore 7
 332              		.cfi_def_cfa_offset 0
 333 0028 7047     		bx	lr
 334              	.L22:
 335 002a 00BF     		.align	2
 336              	.L21:
 337 002c 14E000E0 		.word	-536813548
 338 0030 10E000E0 		.word	-536813552
 339              		.cfi_endproc
ARM GAS  C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s 			page 8


 340              	.LFE8:
 342              		.section	.text.Task_Stack_Init,"ax",%progbits
 343              		.align	1
 344              		.global	Task_Stack_Init
 345              		.syntax unified
 346              		.thumb
 347              		.thumb_func
 348              		.fpu fpv4-sp-d16
 350              	Task_Stack_Init:
 351              	.LFB9:
  62:./Src/Task_Scheduler/myscheduler.c **** 
  63:./Src/Task_Scheduler/myscheduler.c **** void Task_Stack_Init(void) {
 352              		.loc 1 63 28
 353              		.cfi_startproc
 354              		@ args = 0, pretend = 0, frame = 16
 355              		@ frame_needed = 1, uses_anonymous_args = 0
 356              		@ link register save eliminated.
 357 0000 80B4     		push	{r7}
 358              	.LCFI18:
 359              		.cfi_def_cfa_offset 4
 360              		.cfi_offset 7, -4
 361 0002 85B0     		sub	sp, sp, #20
 362              	.LCFI19:
 363              		.cfi_def_cfa_offset 24
 364 0004 00AF     		add	r7, sp, #0
 365              	.LCFI20:
 366              		.cfi_def_cfa_register 7
  64:./Src/Task_Scheduler/myscheduler.c ****     uint32_t* PSP_ptr;
  65:./Src/Task_Scheduler/myscheduler.c ****     task_handler[0] = (uint32_t)task1_handler;
 367              		.loc 1 65 23
 368 0006 274A     		ldr	r2, .L28
 369              		.loc 1 65 21
 370 0008 274B     		ldr	r3, .L28+4
 371 000a 1A60     		str	r2, [r3]
  66:./Src/Task_Scheduler/myscheduler.c ****     task_handler[1] = (uint32_t)task2_handler;
 372              		.loc 1 66 23
 373 000c 274A     		ldr	r2, .L28+8
 374              		.loc 1 66 21
 375 000e 264B     		ldr	r3, .L28+4
 376 0010 5A60     		str	r2, [r3, #4]
  67:./Src/Task_Scheduler/myscheduler.c ****     task_handler[2] = (uint32_t)task3_handler;
 377              		.loc 1 67 23
 378 0012 274A     		ldr	r2, .L28+12
 379              		.loc 1 67 21
 380 0014 244B     		ldr	r3, .L28+4
 381 0016 9A60     		str	r2, [r3, #8]
  68:./Src/Task_Scheduler/myscheduler.c ****     task_handler[3] = (uint32_t)task4_handler;
 382              		.loc 1 68 23
 383 0018 264A     		ldr	r2, .L28+16
 384              		.loc 1 68 21
 385 001a 234B     		ldr	r3, .L28+4
 386 001c DA60     		str	r2, [r3, #12]
 387              	.LBB2:
  69:./Src/Task_Scheduler/myscheduler.c **** 
  70:./Src/Task_Scheduler/myscheduler.c ****     for(int i = 0; i < TASK_NUM; i++) {
 388              		.loc 1 70 13
 389 001e 0023     		movs	r3, #0
ARM GAS  C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s 			page 9


 390 0020 BB60     		str	r3, [r7, #8]
 391              		.loc 1 70 5
 392 0022 34E0     		b	.L24
 393              	.L27:
  71:./Src/Task_Scheduler/myscheduler.c ****         PSP_ptr = (uint32_t*) *(task_PSP + i);
 394              		.loc 1 71 42
 395 0024 BB68     		ldr	r3, [r7, #8]
 396 0026 9B00     		lsls	r3, r3, #2
 397 0028 234A     		ldr	r2, .L28+20
 398 002a 1344     		add	r3, r3, r2
 399              		.loc 1 71 31
 400 002c 1B68     		ldr	r3, [r3]
 401              		.loc 1 71 17
 402 002e FB60     		str	r3, [r7, #12]
  72:./Src/Task_Scheduler/myscheduler.c ****         *(--PSP_ptr) = DUMMY_XPSR;       // xPSR = 0x01000000
 403              		.loc 1 72 22
 404 0030 FB68     		ldr	r3, [r7, #12]
 405 0032 043B     		subs	r3, r3, #4
 406 0034 FB60     		str	r3, [r7, #12]
 407 0036 FB68     		ldr	r3, [r7, #12]
 408 0038 4FF08072 		mov	r2, #16777216
 409 003c 1A60     		str	r2, [r3]
  73:./Src/Task_Scheduler/myscheduler.c ****         *(--PSP_ptr) = task_handler[i];  // PC = task_handlerÁöÑÂú∞ÂùÄ
 410              		.loc 1 73 22
 411 003e FB68     		ldr	r3, [r7, #12]
 412 0040 043B     		subs	r3, r3, #4
 413 0042 FB60     		str	r3, [r7, #12]
 414              		.loc 1 73 36
 415 0044 184A     		ldr	r2, .L28+4
 416 0046 BB68     		ldr	r3, [r7, #8]
 417 0048 52F82320 		ldr	r2, [r2, r3, lsl #2]
 418              		.loc 1 73 22
 419 004c FB68     		ldr	r3, [r7, #12]
 420 004e 1A60     		str	r2, [r3]
  74:./Src/Task_Scheduler/myscheduler.c ****         *(--PSP_ptr) = DUMMY_LR;         // xPSR = 0x01000000
 421              		.loc 1 74 22
 422 0050 FB68     		ldr	r3, [r7, #12]
 423 0052 043B     		subs	r3, r3, #4
 424 0054 FB60     		str	r3, [r7, #12]
 425 0056 FB68     		ldr	r3, [r7, #12]
 426 0058 6FF00202 		mvn	r2, #2
 427 005c 1A60     		str	r2, [r3]
 428              	.LBB3:
  75:./Src/Task_Scheduler/myscheduler.c ****         for(int j = 0; j < 13; j++)      // R0 ~ R12
 429              		.loc 1 75 17
 430 005e 0023     		movs	r3, #0
 431 0060 7B60     		str	r3, [r7, #4]
 432              		.loc 1 75 9
 433 0062 08E0     		b	.L25
 434              	.L26:
  76:./Src/Task_Scheduler/myscheduler.c ****             *(--PSP_ptr) = 0;
 435              		.loc 1 76 26 discriminator 3
 436 0064 FB68     		ldr	r3, [r7, #12]
 437 0066 043B     		subs	r3, r3, #4
 438 0068 FB60     		str	r3, [r7, #12]
 439 006a FB68     		ldr	r3, [r7, #12]
 440 006c 0022     		movs	r2, #0
ARM GAS  C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s 			page 10


 441 006e 1A60     		str	r2, [r3]
  75:./Src/Task_Scheduler/myscheduler.c ****         for(int j = 0; j < 13; j++)      // R0 ~ R12
 442              		.loc 1 75 33 discriminator 3
 443 0070 7B68     		ldr	r3, [r7, #4]
 444 0072 0133     		adds	r3, r3, #1
 445 0074 7B60     		str	r3, [r7, #4]
 446              	.L25:
  75:./Src/Task_Scheduler/myscheduler.c ****         for(int j = 0; j < 13; j++)      // R0 ~ R12
 447              		.loc 1 75 9 discriminator 1
 448 0076 7B68     		ldr	r3, [r7, #4]
 449 0078 0C2B     		cmp	r3, #12
 450 007a F3DD     		ble	.L26
 451              	.LBE3:
  77:./Src/Task_Scheduler/myscheduler.c ****         *(task_PSP + i) = (uint32_t)PSP_ptr;       // Â∞áPSPÁöÑÂÄºÂ≠òËµ∑‰æÜ
 452              		.loc 1 77 20 discriminator 2
 453 007c BB68     		ldr	r3, [r7, #8]
 454 007e 9B00     		lsls	r3, r3, #2
 455 0080 0D4A     		ldr	r2, .L28+20
 456 0082 1344     		add	r3, r3, r2
 457              		.loc 1 77 27 discriminator 2
 458 0084 FA68     		ldr	r2, [r7, #12]
 459              		.loc 1 77 25 discriminator 2
 460 0086 1A60     		str	r2, [r3]
  70:./Src/Task_Scheduler/myscheduler.c ****         PSP_ptr = (uint32_t*) *(task_PSP + i);
 461              		.loc 1 70 35 discriminator 2
 462 0088 BB68     		ldr	r3, [r7, #8]
 463 008a 0133     		adds	r3, r3, #1
 464 008c BB60     		str	r3, [r7, #8]
 465              	.L24:
  70:./Src/Task_Scheduler/myscheduler.c ****         PSP_ptr = (uint32_t*) *(task_PSP + i);
 466              		.loc 1 70 5 discriminator 1
 467 008e BB68     		ldr	r3, [r7, #8]
 468 0090 032B     		cmp	r3, #3
 469 0092 C7DD     		ble	.L27
 470              	.LBE2:
  78:./Src/Task_Scheduler/myscheduler.c ****     }
  79:./Src/Task_Scheduler/myscheduler.c **** }
 471              		.loc 1 79 1
 472 0094 00BF     		nop
 473 0096 00BF     		nop
 474 0098 1437     		adds	r7, r7, #20
 475              	.LCFI21:
 476              		.cfi_def_cfa_offset 4
 477 009a BD46     		mov	sp, r7
 478              	.LCFI22:
 479              		.cfi_def_cfa_register 13
 480              		@ sp needed
 481 009c 5DF8047B 		ldr	r7, [sp], #4
 482              	.LCFI23:
 483              		.cfi_restore 7
 484              		.cfi_def_cfa_offset 0
 485 00a0 7047     		bx	lr
 486              	.L29:
 487 00a2 00BF     		.align	2
 488              	.L28:
 489 00a4 00000000 		.word	task1_handler
 490 00a8 00000000 		.word	task_handler
ARM GAS  C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s 			page 11


 491 00ac 00000000 		.word	task2_handler
 492 00b0 00000000 		.word	task3_handler
 493 00b4 00000000 		.word	task4_handler
 494 00b8 00000000 		.word	task_PSP
 495              		.cfi_endproc
 496              	.LFE9:
 498              		.section	.text.Enable_processor_fault,"ax",%progbits
 499              		.align	1
 500              		.global	Enable_processor_fault
 501              		.syntax unified
 502              		.thumb
 503              		.thumb_func
 504              		.fpu fpv4-sp-d16
 506              	Enable_processor_fault:
 507              	.LFB10:
  80:./Src/Task_Scheduler/myscheduler.c **** 
  81:./Src/Task_Scheduler/myscheduler.c **** void Enable_processor_fault(void) {
 508              		.loc 1 81 35
 509              		.cfi_startproc
 510              		@ args = 0, pretend = 0, frame = 0
 511              		@ frame_needed = 1, uses_anonymous_args = 0
 512              		@ link register save eliminated.
 513 0000 80B4     		push	{r7}
 514              	.LCFI24:
 515              		.cfi_def_cfa_offset 4
 516              		.cfi_offset 7, -4
 517 0002 00AF     		add	r7, sp, #0
 518              	.LCFI25:
 519              		.cfi_def_cfa_register 7
  82:./Src/Task_Scheduler/myscheduler.c ****     // 1. Enable all configurable exceptions (usage, mem manage, bus fault)
  83:./Src/Task_Scheduler/myscheduler.c ****     // 18: Usage fault
  84:./Src/Task_Scheduler/myscheduler.c ****     // 17: Bus fault
  85:./Src/Task_Scheduler/myscheduler.c ****     // 16: Mem manage fault
  86:./Src/Task_Scheduler/myscheduler.c ****     SHCRS |= (1 << USGFAULTENA) | (1 << BUSFAULTENA) | (1 << MEMFAULTENA);
 520              		.loc 1 86 11
 521 0004 054B     		ldr	r3, .L31
 522 0006 1B68     		ldr	r3, [r3]
 523 0008 044A     		ldr	r2, .L31
 524 000a 43F4E023 		orr	r3, r3, #458752
 525 000e 1360     		str	r3, [r2]
  87:./Src/Task_Scheduler/myscheduler.c **** }
 526              		.loc 1 87 1
 527 0010 00BF     		nop
 528 0012 BD46     		mov	sp, r7
 529              	.LCFI26:
 530              		.cfi_def_cfa_register 13
 531              		@ sp needed
 532 0014 5DF8047B 		ldr	r7, [sp], #4
 533              	.LCFI27:
 534              		.cfi_restore 7
 535              		.cfi_def_cfa_offset 0
 536 0018 7047     		bx	lr
 537              	.L32:
 538 001a 00BF     		.align	2
 539              	.L31:
 540 001c 24ED00E0 		.word	-536810204
 541              		.cfi_endproc
ARM GAS  C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s 			page 12


 542              	.LFE10:
 544              		.section	.text.sp_to_psp,"ax",%progbits
 545              		.align	1
 546              		.global	sp_to_psp
 547              		.syntax unified
 548              		.thumb
 549              		.thumb_func
 550              		.fpu fpv4-sp-d16
 552              	sp_to_psp:
 553              	.LFB11:
  88:./Src/Task_Scheduler/myscheduler.c **** 
  89:./Src/Task_Scheduler/myscheduler.c **** __attribute__ ((naked)) void sp_to_psp(void) {
 554              		.loc 1 89 46
 555              		.cfi_startproc
 556              		@ Naked Function: prologue and epilogue provided by programmer.
 557              		@ args = 0, pretend = 0, frame = 0
 558              		@ frame_needed = 1, uses_anonymous_args = 0
  90:./Src/Task_Scheduler/myscheduler.c ****     // 1. Initialize the PSP with task1 stack start
  91:./Src/Task_Scheduler/myscheduler.c ****     __asm volatile("MSR PSP, %0" ::"r"(*task_handler):); // Â∞áTASK1ÁöÑPSPÂÄºË§áË£ΩÂà∞PSPË£°
 559              		.loc 1 91 40
 560 0000 044B     		ldr	r3, .L34
 561 0002 1B68     		ldr	r3, [r3]
 562              		.loc 1 91 5
 563              		.syntax unified
 564              	@ 91 "./Src/Task_Scheduler/myscheduler.c" 1
 565 0004 83F30988 		MSR PSP, r3
 566              	@ 0 "" 2
  92:./Src/Task_Scheduler/myscheduler.c ****     // 2. change SP to PSP using CONTROL register
  93:./Src/Task_Scheduler/myscheduler.c ****     __asm volatile("MOV R0, #0x02"); 
 567              		.loc 1 93 5
 568              	@ 93 "./Src/Task_Scheduler/myscheduler.c" 1
 569 0008 4FF00200 		MOV R0, #0x02
 570              	@ 0 "" 2
  94:./Src/Task_Scheduler/myscheduler.c ****     __asm volatile("MSR CONTROL, R0"); /* ÂØ´ÂÖ•bit 1, ÊîπÁî®PSP */
 571              		.loc 1 94 5
 572              	@ 94 "./Src/Task_Scheduler/myscheduler.c" 1
 573 000c 80F31488 		MSR CONTROL, R0
 574              	@ 0 "" 2
  95:./Src/Task_Scheduler/myscheduler.c ****     __asm volatile("BX LR"); /* Return */
 575              		.loc 1 95 5
 576              	@ 95 "./Src/Task_Scheduler/myscheduler.c" 1
 577 0010 7047     		BX LR
 578              	@ 0 "" 2
  96:./Src/Task_Scheduler/myscheduler.c **** }
 579              		.loc 1 96 1
 580              		.thumb
 581              		.syntax unified
 582 0012 00BF     		nop
 583              	.L35:
 584              		.align	2
 585              	.L34:
 586 0014 00000000 		.word	task_handler
 587              		.cfi_endproc
 588              	.LFE11:
 590              		.section	.text.Schedueler_MSP_Init,"ax",%progbits
 591              		.align	1
 592              		.global	Schedueler_MSP_Init
ARM GAS  C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s 			page 13


 593              		.syntax unified
 594              		.thumb
 595              		.thumb_func
 596              		.fpu fpv4-sp-d16
 598              	Schedueler_MSP_Init:
 599              	.LFB12:
  97:./Src/Task_Scheduler/myscheduler.c **** 
  98:./Src/Task_Scheduler/myscheduler.c **** __attribute__ ((naked)) void Schedueler_MSP_Init(uint32_t sched_top_of_stack) {
 600              		.loc 1 98 79
 601              		.cfi_startproc
 602              		@ Naked Function: prologue and epilogue provided by programmer.
 603              		@ args = 0, pretend = 0, frame = 0
 604              		@ frame_needed = 1, uses_anonymous_args = 0
 605 0000 0346     		mov	r3, r0
  99:./Src/Task_Scheduler/myscheduler.c ****     __asm volatile("MSR MSP, %0" :: "r"(sched_top_of_stack):);
 606              		.loc 1 99 5
 607              		.syntax unified
 608              	@ 99 "./Src/Task_Scheduler/myscheduler.c" 1
 609 0002 83F30888 		MSR MSP, r3
 610              	@ 0 "" 2
 100:./Src/Task_Scheduler/myscheduler.c ****     __asm volatile("Bx LR"); /* Return */
 611              		.loc 1 100 5
 612              	@ 100 "./Src/Task_Scheduler/myscheduler.c" 1
 613 0006 7047     		Bx LR
 614              	@ 0 "" 2
 101:./Src/Task_Scheduler/myscheduler.c **** }
 615              		.loc 1 101 1
 616              		.thumb
 617              		.syntax unified
 618 0008 00BF     		nop
 619              		.cfi_endproc
 620              	.LFE12:
 622              		.section	.text.save_PSP_val,"ax",%progbits
 623              		.align	1
 624              		.global	save_PSP_val
 625              		.syntax unified
 626              		.thumb
 627              		.thumb_func
 628              		.fpu fpv4-sp-d16
 630              	save_PSP_val:
 631              	.LFB13:
 102:./Src/Task_Scheduler/myscheduler.c **** 
 103:./Src/Task_Scheduler/myscheduler.c **** void save_PSP_val(uint32_t current_psp) {
 632              		.loc 1 103 41
 633              		.cfi_startproc
 634              		@ args = 0, pretend = 0, frame = 8
 635              		@ frame_needed = 1, uses_anonymous_args = 0
 636              		@ link register save eliminated.
 637 0000 80B4     		push	{r7}
 638              	.LCFI28:
 639              		.cfi_def_cfa_offset 4
 640              		.cfi_offset 7, -4
 641 0002 83B0     		sub	sp, sp, #12
 642              	.LCFI29:
 643              		.cfi_def_cfa_offset 16
 644 0004 00AF     		add	r7, sp, #0
 645              	.LCFI30:
ARM GAS  C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s 			page 14


 646              		.cfi_def_cfa_register 7
 647 0006 7860     		str	r0, [r7, #4]
 104:./Src/Task_Scheduler/myscheduler.c ****     task_PSP[current_task] = current_psp;
 648              		.loc 1 104 13
 649 0008 064B     		ldr	r3, .L38
 650 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 651 000c 1946     		mov	r1, r3
 652              		.loc 1 104 28
 653 000e 064A     		ldr	r2, .L38+4
 654 0010 7B68     		ldr	r3, [r7, #4]
 655 0012 42F82130 		str	r3, [r2, r1, lsl #2]
 105:./Src/Task_Scheduler/myscheduler.c **** }
 656              		.loc 1 105 1
 657 0016 00BF     		nop
 658 0018 0C37     		adds	r7, r7, #12
 659              	.LCFI31:
 660              		.cfi_def_cfa_offset 4
 661 001a BD46     		mov	sp, r7
 662              	.LCFI32:
 663              		.cfi_def_cfa_register 13
 664              		@ sp needed
 665 001c 5DF8047B 		ldr	r7, [sp], #4
 666              	.LCFI33:
 667              		.cfi_restore 7
 668              		.cfi_def_cfa_offset 0
 669 0020 7047     		bx	lr
 670              	.L39:
 671 0022 00BF     		.align	2
 672              	.L38:
 673 0024 00000000 		.word	current_task
 674 0028 00000000 		.word	task_PSP
 675              		.cfi_endproc
 676              	.LFE13:
 678              		.section	.text.update_next_task,"ax",%progbits
 679              		.align	1
 680              		.global	update_next_task
 681              		.syntax unified
 682              		.thumb
 683              		.thumb_func
 684              		.fpu fpv4-sp-d16
 686              	update_next_task:
 687              	.LFB14:
 106:./Src/Task_Scheduler/myscheduler.c **** 
 107:./Src/Task_Scheduler/myscheduler.c **** void update_next_task(void) {
 688              		.loc 1 107 29
 689              		.cfi_startproc
 690              		@ args = 0, pretend = 0, frame = 0
 691              		@ frame_needed = 1, uses_anonymous_args = 0
 692              		@ link register save eliminated.
 693 0000 80B4     		push	{r7}
 694              	.LCFI34:
 695              		.cfi_def_cfa_offset 4
 696              		.cfi_offset 7, -4
 697 0002 00AF     		add	r7, sp, #0
 698              	.LCFI35:
 699              		.cfi_def_cfa_register 7
 108:./Src/Task_Scheduler/myscheduler.c ****     current_task++;
ARM GAS  C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s 			page 15


 700              		.loc 1 108 17
 701 0004 084B     		ldr	r3, .L41
 702 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 703 0008 0133     		adds	r3, r3, #1
 704 000a DAB2     		uxtb	r2, r3
 705 000c 064B     		ldr	r3, .L41
 706 000e 1A70     		strb	r2, [r3]
 109:./Src/Task_Scheduler/myscheduler.c ****     current_task = current_task % TASK_NUM;
 707              		.loc 1 109 33
 708 0010 054B     		ldr	r3, .L41
 709 0012 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 710 0014 03F00303 		and	r3, r3, #3
 711 0018 DAB2     		uxtb	r2, r3
 712              		.loc 1 109 18
 713 001a 034B     		ldr	r3, .L41
 714 001c 1A70     		strb	r2, [r3]
 110:./Src/Task_Scheduler/myscheduler.c **** }
 715              		.loc 1 110 1
 716 001e 00BF     		nop
 717 0020 BD46     		mov	sp, r7
 718              	.LCFI36:
 719              		.cfi_def_cfa_register 13
 720              		@ sp needed
 721 0022 5DF8047B 		ldr	r7, [sp], #4
 722              	.LCFI37:
 723              		.cfi_restore 7
 724              		.cfi_def_cfa_offset 0
 725 0026 7047     		bx	lr
 726              	.L42:
 727              		.align	2
 728              	.L41:
 729 0028 00000000 		.word	current_task
 730              		.cfi_endproc
 731              	.LFE14:
 733              		.section	.rodata
 734 0043 00       		.align	2
 735              	.LC4:
 736 0044 496E2074 		.ascii	"In task1\000"
 736      61736B31 
 736      00
 737              		.section	.text.task1_handler,"ax",%progbits
 738              		.align	1
 739              		.global	task1_handler
 740              		.syntax unified
 741              		.thumb
 742              		.thumb_func
 743              		.fpu fpv4-sp-d16
 745              	task1_handler:
 746              	.LFB15:
 111:./Src/Task_Scheduler/myscheduler.c **** 
 112:./Src/Task_Scheduler/myscheduler.c **** void task1_handler(void) {
 747              		.loc 1 112 26
 748              		.cfi_startproc
 749              		@ args = 0, pretend = 0, frame = 0
 750              		@ frame_needed = 1, uses_anonymous_args = 0
 751 0000 80B5     		push	{r7, lr}
 752              	.LCFI38:
ARM GAS  C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s 			page 16


 753              		.cfi_def_cfa_offset 8
 754              		.cfi_offset 7, -8
 755              		.cfi_offset 14, -4
 756 0002 00AF     		add	r7, sp, #0
 757              	.LCFI39:
 758              		.cfi_def_cfa_register 7
 759              	.L44:
 113:./Src/Task_Scheduler/myscheduler.c ****     while(1) {
 114:./Src/Task_Scheduler/myscheduler.c ****         printf("In task1\n");
 760              		.loc 1 114 9 discriminator 1
 761 0004 0148     		ldr	r0, .L45
 762 0006 FFF7FEFF 		bl	puts
 763 000a FBE7     		b	.L44
 764              	.L46:
 765              		.align	2
 766              	.L45:
 767 000c 44000000 		.word	.LC4
 768              		.cfi_endproc
 769              	.LFE15:
 771              		.section	.rodata
 772 004d 000000   		.align	2
 773              	.LC5:
 774 0050 496E2074 		.ascii	"In task2\000"
 774      61736B32 
 774      00
 775              		.section	.text.task2_handler,"ax",%progbits
 776              		.align	1
 777              		.global	task2_handler
 778              		.syntax unified
 779              		.thumb
 780              		.thumb_func
 781              		.fpu fpv4-sp-d16
 783              	task2_handler:
 784              	.LFB16:
 115:./Src/Task_Scheduler/myscheduler.c **** 
 116:./Src/Task_Scheduler/myscheduler.c ****     }
 117:./Src/Task_Scheduler/myscheduler.c **** 
 118:./Src/Task_Scheduler/myscheduler.c **** }
 119:./Src/Task_Scheduler/myscheduler.c **** 
 120:./Src/Task_Scheduler/myscheduler.c **** void task2_handler(void) {
 785              		.loc 1 120 26
 786              		.cfi_startproc
 787              		@ args = 0, pretend = 0, frame = 0
 788              		@ frame_needed = 1, uses_anonymous_args = 0
 789 0000 80B5     		push	{r7, lr}
 790              	.LCFI40:
 791              		.cfi_def_cfa_offset 8
 792              		.cfi_offset 7, -8
 793              		.cfi_offset 14, -4
 794 0002 00AF     		add	r7, sp, #0
 795              	.LCFI41:
 796              		.cfi_def_cfa_register 7
 797              	.L48:
 121:./Src/Task_Scheduler/myscheduler.c ****     while(1) {
 122:./Src/Task_Scheduler/myscheduler.c ****         printf("In task2\n");
 798              		.loc 1 122 9 discriminator 1
 799 0004 0148     		ldr	r0, .L49
ARM GAS  C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s 			page 17


 800 0006 FFF7FEFF 		bl	puts
 801 000a FBE7     		b	.L48
 802              	.L50:
 803              		.align	2
 804              	.L49:
 805 000c 50000000 		.word	.LC5
 806              		.cfi_endproc
 807              	.LFE16:
 809              		.section	.rodata
 810 0059 000000   		.align	2
 811              	.LC6:
 812 005c 496E2074 		.ascii	"In task3\000"
 812      61736B33 
 812      00
 813              		.section	.text.task3_handler,"ax",%progbits
 814              		.align	1
 815              		.global	task3_handler
 816              		.syntax unified
 817              		.thumb
 818              		.thumb_func
 819              		.fpu fpv4-sp-d16
 821              	task3_handler:
 822              	.LFB17:
 123:./Src/Task_Scheduler/myscheduler.c ****         
 124:./Src/Task_Scheduler/myscheduler.c ****     }
 125:./Src/Task_Scheduler/myscheduler.c **** }
 126:./Src/Task_Scheduler/myscheduler.c **** 
 127:./Src/Task_Scheduler/myscheduler.c **** void task3_handler(void) {
 823              		.loc 1 127 26
 824              		.cfi_startproc
 825              		@ args = 0, pretend = 0, frame = 0
 826              		@ frame_needed = 1, uses_anonymous_args = 0
 827 0000 80B5     		push	{r7, lr}
 828              	.LCFI42:
 829              		.cfi_def_cfa_offset 8
 830              		.cfi_offset 7, -8
 831              		.cfi_offset 14, -4
 832 0002 00AF     		add	r7, sp, #0
 833              	.LCFI43:
 834              		.cfi_def_cfa_register 7
 835              	.L52:
 128:./Src/Task_Scheduler/myscheduler.c ****     while(1) {
 129:./Src/Task_Scheduler/myscheduler.c ****         printf("In task3\n");
 836              		.loc 1 129 9 discriminator 1
 837 0004 0148     		ldr	r0, .L53
 838 0006 FFF7FEFF 		bl	puts
 839 000a FBE7     		b	.L52
 840              	.L54:
 841              		.align	2
 842              	.L53:
 843 000c 5C000000 		.word	.LC6
 844              		.cfi_endproc
 845              	.LFE17:
 847              		.section	.rodata
 848 0065 000000   		.align	2
 849              	.LC7:
 850 0068 496E2074 		.ascii	"In task4\000"
ARM GAS  C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s 			page 18


 850      61736B34 
 850      00
 851              		.section	.text.task4_handler,"ax",%progbits
 852              		.align	1
 853              		.global	task4_handler
 854              		.syntax unified
 855              		.thumb
 856              		.thumb_func
 857              		.fpu fpv4-sp-d16
 859              	task4_handler:
 860              	.LFB18:
 130:./Src/Task_Scheduler/myscheduler.c ****         
 131:./Src/Task_Scheduler/myscheduler.c ****     }
 132:./Src/Task_Scheduler/myscheduler.c **** }
 133:./Src/Task_Scheduler/myscheduler.c **** 
 134:./Src/Task_Scheduler/myscheduler.c **** void task4_handler(void) {
 861              		.loc 1 134 26
 862              		.cfi_startproc
 863              		@ args = 0, pretend = 0, frame = 0
 864              		@ frame_needed = 1, uses_anonymous_args = 0
 865 0000 80B5     		push	{r7, lr}
 866              	.LCFI44:
 867              		.cfi_def_cfa_offset 8
 868              		.cfi_offset 7, -8
 869              		.cfi_offset 14, -4
 870 0002 00AF     		add	r7, sp, #0
 871              	.LCFI45:
 872              		.cfi_def_cfa_register 7
 873              	.L56:
 135:./Src/Task_Scheduler/myscheduler.c ****     while(1) {
 136:./Src/Task_Scheduler/myscheduler.c ****         printf("In task4\n");
 874              		.loc 1 136 9 discriminator 1
 875 0004 0148     		ldr	r0, .L57
 876 0006 FFF7FEFF 		bl	puts
 877 000a FBE7     		b	.L56
 878              	.L58:
 879              		.align	2
 880              	.L57:
 881 000c 68000000 		.word	.LC7
 882              		.cfi_endproc
 883              	.LFE18:
 885              		.text
 886              	.Letext0:
 887              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.07\\arm-none-eabi\\include\\
 888              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.07\\arm-none-eabi\\include\\
ARM GAS  C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s 			page 19


DEFINED SYMBOLS
                            *ABS*:00000000 myscheduler.c
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:22     .data.task_PSP:00000000 task_PSP
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:19     .data.task_PSP:00000000 $d
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:32     .bss.task_handler:00000000 task_handler
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:29     .bss.task_handler:00000000 $d
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:38     .bss.current_task:00000000 current_task
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:39     .bss.current_task:00000000 $d
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:41     .text.SysTick_Handler:00000000 $t
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:49     .text.SysTick_Handler:00000000 SysTick_Handler
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:630    .text.save_PSP_val:00000000 save_PSP_val
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:686    .text.update_next_task:00000000 update_next_task
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:120    .text.SysTick_Handler:00000038 $d
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:126    .rodata:00000000 $d
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:130    .text.HardFault_Handler:00000000 $t
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:137    .text.HardFault_Handler:00000000 HardFault_Handler
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:160    .text.HardFault_Handler:0000000c $d
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:169    .text.MemManage_Handler:00000000 $t
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:176    .text.MemManage_Handler:00000000 MemManage_Handler
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:199    .text.MemManage_Handler:0000000c $d
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:208    .text.BusFault_Handler:00000000 $t
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:215    .text.BusFault_Handler:00000000 BusFault_Handler
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:238    .text.BusFault_Handler:0000000c $d
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:247    .text.UsageFault_Handler:00000000 $t
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:254    .text.UsageFault_Handler:00000000 UsageFault_Handler
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:277    .text.UsageFault_Handler:0000000c $d
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:282    .text.SysTick_Timer_Init:00000000 $t
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:289    .text.SysTick_Timer_Init:00000000 SysTick_Timer_Init
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:337    .text.SysTick_Timer_Init:0000002c $d
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:343    .text.Task_Stack_Init:00000000 $t
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:350    .text.Task_Stack_Init:00000000 Task_Stack_Init
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:489    .text.Task_Stack_Init:000000a4 $d
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:745    .text.task1_handler:00000000 task1_handler
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:783    .text.task2_handler:00000000 task2_handler
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:821    .text.task3_handler:00000000 task3_handler
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:859    .text.task4_handler:00000000 task4_handler
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:499    .text.Enable_processor_fault:00000000 $t
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:506    .text.Enable_processor_fault:00000000 Enable_processor_fault
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:540    .text.Enable_processor_fault:0000001c $d
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:545    .text.sp_to_psp:00000000 $t
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:552    .text.sp_to_psp:00000000 sp_to_psp
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:586    .text.sp_to_psp:00000014 $d
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:591    .text.Schedueler_MSP_Init:00000000 $t
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:598    .text.Schedueler_MSP_Init:00000000 Schedueler_MSP_Init
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:623    .text.save_PSP_val:00000000 $t
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:673    .text.save_PSP_val:00000024 $d
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:679    .text.update_next_task:00000000 $t
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:729    .text.update_next_task:00000028 $d
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:738    .text.task1_handler:00000000 $t
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:767    .text.task1_handler:0000000c $d
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:776    .text.task2_handler:00000000 $t
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:805    .text.task2_handler:0000000c $d
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:814    .text.task3_handler:00000000 $t
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:843    .text.task3_handler:0000000c $d
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:852    .text.task4_handler:00000000 $t
C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s:881    .text.task4_handler:0000000c $d

ARM GAS  C:\Users\Benson\AppData\Local\Temp\ccCFCOYO.s 			page 20


UNDEFINED SYMBOLS
puts
